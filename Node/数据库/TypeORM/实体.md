# 实体

# 实体定义

实体是一个映射到数据库表（或使用 MongoDB 时的集合）的类。 你可以通过定义一个新类来创建一个实体，并用 @Entity() 来标记：

```ts
import { Entity, PrimaryGeneratedColumn, Column } from "typeorm";

@Entity()
export class User {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  firstName: string;

  @Column()
  lastName: string;

  @Column()
  isActive: boolean;
}
```

这将创建以下数据库表：

```s
+-------------+--------------+----------------------------+
|                          user                           |
+-------------+--------------+----------------------------+
| id          | int(11)      | PRIMARY KEY AUTO_INCREMENT |
| firstName   | varchar(255) |                            |
| lastName    | varchar(255) |                            |
| isActive    | boolean      |                            |
+-------------+--------------+----------------------------+
```

基本实体由列和关系组成。 每个实体必须有一个主列（如果使用 MongoDB，则为 ObjectId 列）。每个实体都必须在连接选项中注册：

```ts
import { createConnection, Connection } from "typeorm";
import { User } from "./entity/User";

const connection: Connection = await createConnection({
  type: "mysql",
  host: "localhost",
  port: 3306,
  username: "test",
  password: "test",
  database: "test",
  entities: [User]
  // 指定包含所有实体的整个目录， 该目录下所有实体都将被加载
  // entities: ["entity/*.js"]
});
```

如果要为 User 实体使用替代表名，可以在 @Entity 中指定：`@Entity（“my_users”`）。如果要为应用程序中的所有数据库表设置基本前缀，可以在连接选项中指定 entityPrefix。

# 实体列

由于数据库表由列组成，因此实体也必须由列组成。 标有 @Column 的每个实体类属性都将映射到数据库表列。

## 主列

## 列类型

# 嵌入式实体

# 实体继承
